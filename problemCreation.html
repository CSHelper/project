<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Problem Creation</title>
	
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">	
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

		<!-- css -->
		<link href="css/styles.css" rel="stylesheet">
		<link href="css/timeline.css" rel="stylesheet">
		<link href="css/calendar.css" rel="stylesheet">
		<link rel='stylesheet' href='accordion.css' />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		
		<!-- script references -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		<!--<script src="modernizr.js"></script>-->
		<script src="js/scripts.js"></script>
		<script src="accordion.js"></script>
		
	</head>
	<body>
<!-- header -->
<div id="top-nav" class="navbar navbar-inverse navbar-static-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Student Statistics Dashboard</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a class="dropdown-toggle" role="button" data-toggle="dropdown" href="#"><i class="glyphicon glyphicon-user"></i> Admin <span class="caret"></span></a>
                    <ul id="g-account-menu" class="dropdown-menu" role="menu">
                        <li><a href="#">My Profile</a></li>
                    </ul>
                </li>
                <li><a href="#"><i class="glyphicon glyphicon-lock"></i> Logout</a></li>
            </ul>
        </div>
    </div>
    <!-- /container -->
</div>
<!-- /Header -->

<!-- Main -->


<div class="container-fluid">
    <div class="row">       
        <div class="col-sm-3"> <!-- Define Problem -->
			<a href="#"><strong><i class="glyphicon glyphicon-list"></i> Define Problem</strong></a>

			<hr>
			<div class="row">       
				<div class="col-sm-10">
					<div class="form-group">
						<label>Select Language:</label>
						<select class="form-control" id="language">
							<option>Java</option>
							<option>C++</option>
							<option>C</option>
							<option>Python</option>
						</select>
						</br>
						</br>
						</br>
						<label>Select Section:</label> <!--Assuming java basics selected-->
						<select class="form-control" id="section">
							<option>Java Basics</option>
							<option>Conditional Statements</option>
							<option>Loops</option>
						</select>
						</br>
						</br>
						</br>
						<label>Select Topic:</label> <!--Assuming java basics selected-->
						<select class="form-control" id="topic">
							<option>Data Types</option>
							<option>If Statements</option>
							<option>Output</option>
						</select>
						
						<hr>

						<div class="form-group">
							<label>Assign Problem to Students: <br><span style="color:#999999">(hold ctrl to select more than one)</span></label>
							<select multiple class="form-control selectStudents" id="selectStudents">
								<option>Dustin</option>
								<option>Sunday</option>
								<option>Eric</option>
								<option>Ryan</option>
								<option>Frank</option>
								<option>Tommy</option>
							</select>
						</div>
					</div>
				</div>
			</div>
        </div>
        
	
        <div class="col-sm-6" > <!-- Problem Creation Column -->
			<a href="#"><strong><i class="glyphicon glyphicon-education"></i> Problem Creation</strong></a>

			<hr>
			
			
			<div class="form-group">
				<label>Problem Name:</label>
				<input type="text" class="form-control" id="problemName">
				</br>
			
				<label for="comment">Description:</label>
				<textarea class="form-control" rows="5" id="comment"></textarea>
			</div>
			<hr>
			
			<div>
				<div style="float:left">
					<button onclick="addInputDiv()" class="btn btn-primary">Add an Input</button>
				</div>
				<div style="float:right">
					<button onclick="removeInputDiv()" class="btn btn-danger">Remove an Input</button>
				</div>
			</div>
			</br>
			</br>
			
			<div id="problemInputsDiv"></div>

			

			<div class="row">       
				<div class="col-sm-6">
					<label>Output:</label>
					<div class="form-group">
						<select class="form-control" id="datatype{{unique}}">
							<option>int</option>
							<option>double</option>
							<option>float</option>
							<option>char</option>
						</select>
					</div>
				</div>
			</div>
			<hr>
			</br>
			
			<div>
				<div style="float:left">
					<button onclick="addHintDiv()" class="btn btn-primary">Add a Hint</button>
				</div>
				<div style="float:right">
					<button onclick="removeHintDiv()" class="btn btn-danger">Remove a Hint</button>
				</div>
			</div>
			</br>
			</br>

    		<div id="hintsDiv"></div>
				
			</br>
        </div>
		
		
		
		<div class="col-sm-3">  <!-- Tests Column -->
			<a href="#"><strong><i class="glyphicon glyphicon-wrench"></i> Test Creation</strong></a>
			<hr>
			
			<div>
				<label for="comment">Tests:</label>
				</br>
				<div style="float:left">
					<button onclick="modalInputs()" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Add a Test</button>
				</div>
				<div style="float:right">
					<button onclick="removeTestDiv()" class="btn btn-danger">Remove a Test</button>
				</div>
			</div>
			</br>
			</br>
			
			<div id="testsDiv"></div>
        </div>
    </div>
</div>

<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
	<div class="modal-dialog">

		!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header modalHeader">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Add Test Case</h4>
			</div>
			<div class="modal-body">
				<p>Inputs</p>
				<div id="modalInputs"> </div>
				<hr>
				
				<p>Output</p>
				<input type="text" class="form-control" id="modalOutput" required>
			</div>
			<div class="modal-footer">
				<button onclick="addTestDiv()" type="button" class="btn btn-info" data-dismiss="modal">Create</button>
			</div>
		</div>

	</div>
</div>


<!-- /Main -->

<footer style="background-color:white" class="text-center"> </footer>



<script>
window.onload = function(){ //On page load
  addInputDiv();//Create one Input
  addHintDiv();//Create one Hint
};

//problemInputsDiv
	let templateInput = `<div id="input{{unique}}" class="input">	
							<div>
								<label for="usr">Input {{unique}}</label>
								</br>
								<div class="row">
									<div class="col-sm-6">
										<label for="usr">Variable Name:</label>
									</div>
									<div class="col-sm-6">
										<label for="usr">Data Type:</label>
									</div>
								</div>
								<div class="row">	
									<div class="col-sm-6">
										<div class="form-group">
										  <input type="text" class="form-control" id="variableName{{unique}}">
										</div>
									</div>
									<div class="col-sm-6">
										<div class="form-group">
											<select class="form-control" id="datatype{{unique}}">
												<option>int</option>
												<option>double</option>
												<option>float</option>
												<option>char</option>
											</select>
										</div>
									</div>
								</div>
							</div>
							<hr>
						</div>`;
	let id = 0;
	function addInputDiv() {
		id++
		$( "#problemInputsDiv" ).append( templateInput.replace('{{unique}}', id)
						.replace('{{unique}}', id)
						.replace('{{unique}}', id)
						.replace('{{unique}}', id) );
	}
		
	function removeInputDiv() {
		if (id > 1)
		{
			document.getElementById( 'input'+id ).remove();
			id--
		}
	}
//end problemInputsDiv

//hintsDiv
	let templateHint = `<div id="hint{{unique}}">	
							<div class="col-sm-2">
								<label for="usr">Hint {{unique}}:</label>
							</div>
							<div class="col-sm-10">
								<div class="form-group">
								  <input type="text" class="form-control" id="hintText{{unique}}">
								</div>
							</div>
						</div>`;
	let idHint = 0;
	function addHintDiv() {
		idHint++
		$( "#hintsDiv" ).append( templateHint.replace('{{unique}}', idHint)
						.replace('{{unique}}', idHint)
						.replace('{{unique}}', idHint) );
	}
		
	function removeHintDiv() {
		if (idHint > 1)
		{
			document.getElementById( 'hint'+idHint ).remove();
			idHint--
		}
	}
//end hintsDiv

//testsDiv
	let templateTest = `<div class="panel panel-default test_accordion_title" id="test{{unique}}"> <!-- Section Panel -->
							<div class="panel-heading" id="test_accordion_title" role="tab" id="">
								<h3 class="panel-title">
									<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{unique}}" aria-expanded="true" aria-controls="collapse{{unique}}">
										<i class="floatRight glyphicon glyphicon-chevron-down"></i>
										Test {{unique}}
									</a>
								</h3>
							</div>
							<div id="collapse{{unique}}" class="panel-collapse collapse test_accordion_body" role="tabpanel" aria-labelledby="headingOne"> <!-- Topic Panel -->
								Hello
							</div>
						</div>`;
	let idTest = 0;
	function addTestDiv() {
		idTest++
		$( "#testsDiv" ).append( templateTest.replace('{{unique}}', idTest)
						.replace('{{unique}}', idTest)
						.replace('{{unique}}', idTest)
						.replace('{{unique}}', idTest)
						.replace('{{unique}}', idTest) );
	}
		
	function removeTestDiv() {
		if (idTest > 1)
		{
			document.getElementById( 'test'+idTest ).remove();
			idTest--
		}
	}
//end testsDiv

//modalInputs
	let templateModalInput = `<input type="text" class="form-control" id="modalInput{{unique}}" required>
							</br>`;
	let modalInputCount = 0;
	function modalInputs() {
		while (id > modalInputCount)
		{
			modalInputCount++
			$( "#modalInputs" ).append( templateModalInput.replace('{{unique}}', modalInputCount));
		}
	}
//end modalInputs

</script>
		
	</body>
</html>
